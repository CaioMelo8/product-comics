<ng-template #loading>
  <div class="text-center spinner">
    <app-spinner [size]="5"></app-spinner>
  </div>
</ng-template>
<div class="container container-full my-3">
  <div class="row">
    <div class="col-auto m-auto">
      <h2>On Sale</h2>
    </div>
  </div>
  <div class="row" *ngIf="(onSale$ | async) as onSale">
    <div class="col-12 text-center">
      <app-comic-list [comics]="onSale"></app-comic-list>
    </div>
  </div>
  <div class="row mt-4">
    <div class="col-auto m-auto">
      <h2>Your Favorites</h2>
    </div>
  </div>
  <div class="row">
    <div class="col-12 text-center">
      <app-comic-list
        *ngIf="(favorites$ | async) as favorites"
        [comics]="favorites"
      ></app-comic-list>
    </div>
  </div>
  <div class="row mt-4">
    <div class="col-auto mx-auto">
      <h2 class=" d-inline-block align-middle mr-2">All Comics</h2>
    </div>
  </div>
  <div class="row mt-4 mb-3">
    <div class="col-auto mx-auto">
      <app-search (search)="searchQuery = $event"></app-search>
    </div>
  </div>
  <div class="row p-1">
    <div class="col-3 m-auto">
      <button class="btn btn-danger btn-block p-2" type="button" (click)="onAddComic()">
        <i class="fa fa-plus-circle"></i> Add
      </button>
    </div>
  </div>
  <div class="row" *ngIf="comics && comics.length > 0; else loading">
    <div class="col-12 text-center">
      <app-comic-list [comics]="comics | filterSearch: searchQuery"></app-comic-list>
    </div>
  </div>
  <div class="row">
    <div class="col-auto m-auto">
      <button class="btn btn-secondary" type="button" (click)="loadMore()">Load more...</button>
    </div>
  </div>
</div>
